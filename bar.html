<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3: A true bar chart with SVG rects</title>
      <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
		<style type="text/css">
			body {
				  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
				  margin: auto;
				  position: relative;
				  width: 960px;
				}
			.axis path,
			.axis line {
			    fill: none;
			    stroke: black;
			    shape-rendering: crispEdges;
			}

			.axis text {
			    font-family: arial;
			    font-size: 11px;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">
  
			//Width and height
			var w = 800;
			var h = 300;
			var barPadding = 20;
			var leftPadding = 50;
			
			var dataset = [50, 10, 15, 20, 25 , 30].sort(d3.descending);

			//Create SVG element
			var svg = d3.select("body")
						.append("svg")
						.attr("width", w)
						.attr("height", h);


			var xscale = d3.scale.linear()
									.domain([0, d3.max(dataset)])
									.range([leftPadding, w - leftPadding]);

	

			svg.selectAll("rect")
			   .data(dataset)
			   .enter()
			   .append("rect")
			   .attr({
					 x: leftPadding,
					 y: function(d, i) { return i * (h / dataset.length); },
					 height: h / dataset.length - barPadding,
					 opacity: 0.7,
					 width: function(d) { return xscale(d) - leftPadding; },
					 fill: function(d) { return "rgb(0, 0, " + (d*10) + ")"; },
					 transform: "translate(0, " + barPadding + ")",
			   	});

			svg.selectAll("text")
				.data(dataset)
				.enter()
				.append("text")
				.text(function(d) {
					return d;
				})
				.attr("text-anchor", "middle")
				.attr({
					x: leftPadding/2,
					y: function(d, i) { return i * (h / dataset.length) + (barPadding *2.30) ; },
					fill: "black",
					"font-size": "leftPadding/2",
					"font-family":"arial",
					"text-anchor": "middle"
				})

			var xAxis = d3.svg.axis()
								.scale(xscale)
								.orient("top");

			svg.append("g")
					.attr("class", "axis")
					.call(xAxis)
					.attr("transform", "translate(0, " + barPadding + ")");

			
		</script>
	</body>
</html>